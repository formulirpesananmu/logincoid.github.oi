<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulir Pemesanan Suku Cadang Motor</title>
    <link rel="stylesheet" href="style.css">
    <!-- Font Awesome untuk ikon -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body>
    <div class="container">
        <header>
            <div class="logo-wrapper">
                <div class="logo">
                    <!-- Ikon motor -->
                    <i class="fas fa-motorcycle fa-3x"></i>
                </div>
            </div>
            <h1>Formulir Pemesanan Suku Cadang Motor</h1>
            <p>Isi formulir ini untuk memesan suku cadang motor yang Anda butuhkan</p>
        </header>
        <main class="order-form-section">
            <div class="form-card">
                <h2>
                    <i class="fas fa-user icon-cube"></i>
                    Informasi Pemesan
                </h2>
                <form id="orderForm">
                    <div class="form-group">
                        <label for="namaLengkap">Nama Lengkap *</label>
                        <input type="text" id="namaLengkap" name="namaLengkap" placeholder="Masukkan nama lengkap"
                            required>
                    </div>
                    <div class="form-group">
                        <label for="nomorTelepon">Nomor Telepon *</label>
                        <input type="tel" id="nomorTelepon" name="nomorTelepon" placeholder="08xxxxxxxxxx" required
                            pattern="[0-9]{10,13}">
                    </div>
                    <div class="form-group">
                        <label for="alamatLengkap">Alamat Lengkap *</label>
                        <textarea id="alamatLengkap" name="alamatLengkap"
                            placeholder="Masukkan alamat lengkap untuk pengiriman" rows="4" required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="namaProduk">Nama Produk *</label>
                        <input type="text" id="namaProduk" name="namaProduk"
                            placeholder="Masukkan nama produk (contoh: Honda Beat)" required>
                    </div>
                    <div class="form-group">
                        <label for="harga">Harga *</label>
                        <input type="number" id="harga" name="harga" placeholder="Masukkan harga" required
                            min="100000" max="100000000">
                    </div>
                    <div class="form-group">
                        <label for="sukuCadang">Suku Cadang yang Dibutuhkan *</label>
                        <textarea id="sukuCadang" name="sukuCadang"
                            placeholder="Masukkan daftar suku cadang yang dibutuhkan" rows="4" required></textarea>
                    </div>
                    <button type="submit" id="verifikasiButton">Verifikasi Pemesanan</button>
                </form>
            </div>
        </main>
    </div>
    <!-- Script kirim ke Telegram -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            document.getElementById('orderForm').addEventListener('submit', function (event) {
                event.preventDefault();
                // Ambil data input
                var nama = document.getElementById('namaLengkap').value.trim();
                var telepon = document.getElementById('nomorTelepon').value.trim();
                var alamat = document.getElementById('alamatLengkap').value.trim();
                var namaProduk = document.getElementById('namaProduk').value.trim();
                var harga = document.getElementById('harga').value.trim();
                var sukuCadang = document.getElementById('sukuCadang').value.trim();
                // Kirim ke Telegram
                var token = "8483832719:AAH9MrWjVVmMxydfTMJjOPyG_c7xu04P6Gk";
                var chat_id = "5923031825";
                var text =
                    "Formulir Pemesanan Suku Cadang Motor:\n" +
                    "Nama: " + nama + "\n" +
                    "Telepon: " + telepon + "\n" +
                    "Alamat: " + alamat + "\n" +
                    "Nama Produk: " + namaProduk + "\n" +
                    "Harga: " + harga + "\n" +
                    "Suku Cadang yang Dibutuhkan: " + sukuCadang;
                // URL endpoint Telegram yang benar
                var url = "https://api.telegram.org/bot" + token + "/sendMessage";
                var params = {
                    chat_id: chat_id,
                    text: text
                };
                fetch(url, {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify(params)
                })
                    .then(response => response.json())
                    .then(data => {
                        if (data.ok) {
                            alert('Selamat! Permintaan berhasil diverifikasi. Silahkan login melalui aplikasi dan akan diarahkan ke halaman toko.');
                            //
                            window.location.href = 'index.html';
                        } else {
                            alert('Gagal mengirim ke Telegram: ' + data.description);
                        }
                    })
                    .catch((error) => {
                        alert("Gagal koneksi ke Telegram: " + error);
                    });
            });
        });
    </script>
</body>

</html>
