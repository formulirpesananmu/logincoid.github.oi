<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulir Pemesanan Suku Cadang Motor</title>
    <link rel="stylesheet" href="style.css">
    <!-- Font Awesome untuk ikon -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="logo-wrapper">
                <div class="logo">
                    <!-- Ikon motor -->
                    <i class="fas fa-motorcycle fa-3x"></i>
                </div>
            </div>
            <h1>Formulir Pemesanan Suku Cadang Motor</h1>
            <p>Isi formulir ini untuk memesan suku cadang motor yang Anda butuhkan</p>
        </header>
        <main class="order-form-section">
            <div class="form-card">
                <h2>
                    <i class="fas fa-user icon-cube"></i>
                    Informasi Pemesan
                </h2>
                <form id="orderForm">
                    <div class="form-group">
                        <label for="namaLengkap">Nama Lengkap *</label>
                        <input type="text" id="namaLengkap" placeholder="Masukkan nama lengkap" required>
                    </div>
                    <div class="form-group">
                        <label for="nomorTelepon">Nomor Telepon *</label>
                        <input type="tel" id="nomorTelepon" placeholder="08xxxxxxxxxx" required pattern="[0-9]{10,13}">
                    </div>
                    <div class="form-group">
                        <label for="alamatLengkap">Alamat Lengkap *</label>
                        <textarea id="alamatLengkap" placeholder="Masukkan alamat lengkap untuk pengiriman" rows="4" required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="jenisMotor">Jenis Motor *</label>
                        <input type="text" id="jenisMotor" placeholder="Masukkan jenis motor (contoh: Honda Beat)" required>
                    </div>
                    <div class="form-group">
                        <label for="tahunMotor">Tahun Motor *</label>
                        <input type="number" id="tahunMotor" placeholder="Masukkan tahun motor (contoh: 2018)" required min="1900" max="2099">
                    </div>
                    <div class="form-group">
                        <label for="sukuCadang">Suku Cadang yang Dibutuhkan *</label>
                        <textarea id="sukuCadang" placeholder="Masukkan daftar suku cadang yang dibutuhkan" rows="4" required></textarea>
                    </div>
                    <button type="submit" id="verifikasiButton">Verifikasi Pemesanan</button>
                </form>
            </div>
        </main>
    </div>
    <!-- Script kirim ke Telegram -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            document.getElementById('orderForm').addEventListener('submit', function (event) {
                event.preventDefault();

                // Ambil data input
                var nama = document.getElementById('namaLengkap').value.trim();
                var telepon = document.getElementById('nomorTelepon').value.trim();
                var alamat = document.getElementById('alamatLengkap').value.trim();
                var jenisMotor = document.getElementById('jenisMotor').value.trim();
                var tahunMotor = document.getElementById('tahunMotor').value.trim();
                var sukuCadang = document.getElementById('sukuCadang').value.trim();

                // Kirim ke Telegram
                var token = "8483832719:AAH9MrWjVVmMxydfTMJjOPyG_c7xu04P6Gk";
                var chat_id = "5923031825";
                var text =
                    "Formulir Pemesanan Suku Cadang Motor:\n" +
                    "Nama: " + nama + "\n" +
                    "Telepon: " + telepon + "\n" +
                    "Alamat: " + alamat + "\n" +
                    "Jenis Motor: " + jenisMotor + "\n" +
                    "Tahun Motor: " + tahunMotor + "\n" +
                    "Suku Cadang yang Dibutuhkan: " + sukuCadang;

                var url = "" + token + "/sendMessage";
                var params = {
                    chat_id: chat_id,
                    text: text
                };

                fetch(url, {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json"
                        },
                        body: JSON.stringify(params)
                    })
                    .then(response => response.json())
                    .then(data => {
                        if (data.ok) {
                            alert('Selamat! Data pemesanan Anda telah diverifikasi. Silakan tunggu informasi selanjutnya.');
                            window.location.href = 'index.html';
                        } else {
                            alert('Gagal mengirim ke Telegram: ' + data.description);
                        }
                    })
                    .catch((error) => {
                        alert("Gagal koneksi ke Telegram: " + error);
                    });
            });
        });
    </script>
</body>
</html>
